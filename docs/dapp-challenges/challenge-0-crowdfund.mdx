---
sidebar_position: 1
title: Crowdfund Dapp Challenge
description: Deploy and Interact with a Crowdfund Dapp.
---

import mintToken from "../../static/img/mintToken.png";
import approveTokenMint from "../../static/img/approveTokenMint.png";
import updatedBalance from "../../static/img/updatedBalance.png";
import back100 from "../../static/img/back100.png";
import success from "../../static/img/success.png";
import backedResult from "../../static/img/backedResult.png";
import deployedDAPP from "../../static/img/deployedDAPP.png";
// import ButtonAction from "../../components/ButtonAction.jsx";

This challenge will walk you through the process of building a crowdfunding DApp on Stellar. You will learn how to deploy smart contracts to the Stellar network, and how to interact with them through a web frontend.

[![Open in Gitpod](https://gitpod.io/button/open-in-gitpod.svg)][oigp]

[oigp]: https://gitpod.io/#https://github.com/stellar/soroban-example-dapp

## Checkpoint 0: üì¶ Install üìö

Start by installing the required dependencies.

Required:

- `soroban-cli v0.8.0` See https://soroban.stellar.org/docs/getting-started/setup#install-the-soroban-cli
- `docker` (both Standalone and Futurenet backends require it)
- `Node.js v17`
- `Freighter wallet v2.9.1`. Download it from https://github.com/stellar/freighter/releases/tag/2.9.1 and Enable "Experimental Mode" in the settings (gear icon)

Clone the soroban example dapp repo:

```sh
git clone https://github.com/stellar/soroban-example-dapp
cd soroban-example-dapp
```

Then, build the soroban-preview docker image:

```sh
make build-docker
```

Building the docker image lets you avoid installing the specific version of soroban-cli if desired.

## Checkpoint 1: üöÄ Launch Backend üåê

Open your Docker Desktop app and make sure it is running. Then run the following command to start the backend:

```sh
./quickstart.sh futurenet
```

and wait for it to start.

**Note:** This can take up to 5 minutes to start syncing. You can tell it is working by visiting http://localhost:8000/, and look at the `ingest_latest_ledger`, field. If it is `0`, the quickstart image is not ready yet.

## Checkpoint 2: üé¨ Deploy Smart Contracts

Now that the backend environment is set up, we need to deploy our smart contracts to the Stellar network.

Load the contracts and initialize them

Use your own local soroban-cli:

```sh
./initialize.sh futurenet
```

Or run it inside the soroban-preview docker container:

```sh
docker exec soroban-preview ./initialize.sh futurenet
```

If the command ran successfully, it will return a Contract ID. Take note of this ID as you will need it in the next steps.

You will need to add some Futurenet network lumens to your Freighter wallet. Visit [https://laboratory.stellar.org/#create-account](https://laboratory.stellar.org/#create-account), and follow the instructions to create your freighter account on Futurenet.

## Checkpoint 3: üé® Building the Frontend

Now we'll move to the frontend side of our DApp. We'll be using Next.js for this.

### Install the frontend dependencies:

```sh
yarn install
```

### Start the development server:

```sh
yarn dev
```

Now open your browser and visit http://localhost:3000. You should be able to see the frontend of your DApp.

## Checkpoint 4: ü§ù Connect the Frontend to the Backend

Now that we have the frontend running, it's time to connect it with our smart contracts.

Connect your freighter wallet to the frontend and ensure that you have enough XLM to pay for the transaction fees. Reload your frontend. You should now be able to interact with the smart contracts through the DApp frontend.

Then add the standalone network to your wallet and connect to it.

Add the Futurenet custom network in Freighter (Note, the out-of-the-box "Future Net" network in Freighter will not work with a local quickstart container, so we need to add our own):

- Name: `Futurenet Local RPC`
- URL: `http://localhost:8000/soroban/rpc`
- Passphrase: `Test SDF Future Network ; October 2022`
- Allow HTTP connection: `Enabled`
- Switch to this network: `Enabled`

## Checkpoint 6: üè¶ Mint Tokens for the Crowdfunding Campaign

You will need to add some Futurenet network lumens to your Freighter wallet.

Visit https://laboratory.stellar.org/#create-account, and follow the instructions to create your freighter account on Futurenet.

Open the DApp frontend and click on the "Mint 100 EXT" button.

<img src={mintToken} width="40%" />

You should see a popup from Freighter asking you to sign the transaction. Click on "Approve" and wait for the transaction to be confirmed.

<img src={approveTokenMint} width="40%" />

You should see an updated balance in the pledge component.

<img src={updatedBalance} width="40%" />

## Checkpoint 7: üí∞ Fund the Crowdfunding Campaign

Now that we have our wallet set up, let's fund the crowdfunding campaign.

Open the frontend and click on the "Back this project" button. You should see a popup from Freighter asking you to sign the transaction.

<img src={back100} width="40%" />

Click on "Approve" and wait for the transaction to be confirmed.

Once the transaction is confirmed, you should see a success message.

<img src={success} width="40%" />

You should see an updated balance in and amount you have pledged in the pledge component.

<img src={backedResult} width="40%" />

## Checkpoint 8: üö¢ Ship it! üöÅ

Now that our DApp is fully functional locally, let's prepare it for deployment on futurenet.

You can upload your app to a hosting platform of your choice. You could use platforms like Netlify, Vercel, or even an AWS S3 bucket.

For this example, we will need to edit the `package.json` file to edit the following lines:

```js
  "engines": {
    "node": "17",
    "npm": "8"
  }
```

And update our node engine, and npm version to 18 and 9 respectively:

```js
  "engines": {
    "node": "18",
    "npm": "9"
  }
```

Next we will use the Vercel-Cli to complete our deployment

> Note: If you dont already have a [Vercel account], you will need to create one and link it to your github account.

[Vercel account]: https://vercel.com/login

First install the Vercel cli:

```sh
yarn global add vercel
```

Then run the following command to deploy your app:

```sh
npx vercel
```

Then follow the prompts to complete your deployment.

> Note: This step can take a few minutes to complete.

Once you reach the following prompt:

```sh
Auto-detected Project Settings (Next.js):
- Build Command: next build
- Development Command: next dev --port $PORT
- Install Command: `yarn install`, `pnpm install`, or `npm install`
- Output Directory: Next.js default
? Want to modify these settings? [y/N] y
```

Choose `Y` and update the build command to `yarn build`

Then continue through the prompts until you reach the completion prompt similar to the following:

```sh
Vercel CLI 30.1.1
üîç  Inspect: https://vercel.com/julian-dev28/soroban-example-dapp/9Kb4JsJgQRRmi5VFkx6AvScWbBnU [3s]
‚úÖ  Preview: https://soroban-example-dapp-julian-dev28.vercel.app [2m]
üìù  To deploy to production (soroban-example-dapp-iota.vercel.app), run `vercel --prod`
```

You can now visit the preview link to see your deployed app! üéâ

<img src={deployedDAPP} width="90%" />

## Checkpoint 9: üí™ Flex!

Share your public url with a friend and ask them to contribute to the crowdfunding campaign

> Note: Your friend will have to run the docker backend locally and add the Futurenet Local RPC network to their Freighter wallet in order to contribute.

## ‚öîÔ∏è Side Quests

üåê Explore [Stellar Laboratory] to inspect your account assets on the Stellar network.

You should see something like this:

```json
  "balances": [
    {
      "balance": "100.0000000",
      "limit": "922337203685.4775807",
      "buying_liabilities": "0.0000000",
      "selling_liabilities": "0.0000000",
      "last_modified_ledger": 148108,
      "is_authorized": true,
      "is_authorized_to_maintain_liabilities": true,
      "asset_type": "credit_alphanum4",
      "asset_code": "EXT",
      "asset_issuer": "GBUGENT4FK4Y6FZNZEEGVZJLCHKNES23FRVOPPOI62RUF4WRSNOTSZV4"
    },
  ]
```

<br />

üç¥ [Fork the Crowdfund repo] and make your own changes to the DApp.

[Stellar Laboratory]: https://laboratory.stellar.org/#explorer?network=futurenet
[Fork the Crowdfund repo]: https://github.com/stellar/soroban-example-dapp/fork

## üìö User Workflows Checklist

During this exercise you should be able to:

- Clone the example repo (Crowdfunding Dapp)
- Choose your target amount and deadline
- Deploy your contract to futurenet
- Deploy a soroban rpc server somewhere (TBD)
- Deploy the example web ui somewhere (e.g. netlify, vercel, surge, etc.)

Then via the web UI, you should be able to:

- Connect your wallet (freighter for now)
- See your current balance(s)
- See the current fundraising status (total amount & time remaining)
- See allowed assets (xlm-only for now?)
- Deposit an allowed asset
- See your deposit(s) appear on the page as the transactions are confirmed.
- "Live"-Update the page with the total amount with the new amount

<ButtonAction className="my-button-class" text="Submit challenge" />
